# Мониторинг

Дашборд отражает основные характеристики работы микросервиса для оперативного реагирования на деградацию модели или падение производительности.

## Для мониторинга выбраны метрики нескольких слоев:

### Инфраструткурный слой:

- Метрика RAM: <process_virtual_memory_bytes>

Эта метрика выбрана, так как существует необходимость отслеживать потребления памяти микросервисом. 
Используется график "gauge" (шкала), потому что такая визуализация позволяет отслеживать превышение допустимых значений потребления памяти сервисом.


### Метрики реального времени:

- Метрика: Цена (медиана) <histogram_quantile(0.5, app_predictions_bucket)>

Эта метрика выбрана, так как позволяет отслеживать стабильность прогнозируемых значений цены на недвижимость.
Используется линейный график, потому что он лаконично отражает динамику изменения цены с течением времени и позволяет фиксировать аномалии.

- <Метрика: Цена (квантили) histogram_quantile(0.05, app_predictions_bucket) и histogram_quantile(0.95, app_predictions_bucket)>

Эта метрика выбрана, так как позволяет дополнительно отслеживать выбросы в прогнозируемых значений цены на недвижимость.
Используется линейный график, потому что он лаконично отражает динамику изменения цены с течением времени и позволяет фиксировать аномалии.

- Метрика: Средняя скорость прогноза <prediction_time_seconds_sum / prediction_time_seconds_count>

Эта метрика выбрана, так как позволяет оценивать время обработки запроса моделью и оперативно отслеживать отклонения. 
Используется график "gauge" (шкала), потому что позволяет оценить, не превышает ли скорость обработки запроса моделью указанный лимит.


### Метрики прикладного уровня:

- Метрика: Трафик <increase(http_request_duration_seconds_count[1m])>

Эта метрика выбрана, так как позволяет отслеживать нагрузку на сервис - насколько больше приходит запросов в определённый момент, чем приходило 1 минуту.
Используется линейный график, потому что он лаконично отражает динамику изменения количества запросов с течением времени и позволяет фиксировать аномалии.

